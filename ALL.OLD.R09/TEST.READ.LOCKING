*-----------------------------------------------------------------------------
* <Rating>97</Rating>
*-----------------------------------------------------------------------------
SUBROUTINE TEST.READ.LOCKING
$INSERT I_COMMON
$INSERT I_EQUATE
DEBUG
*TRANSTART THEN CRT ''
CALL OPF('F.LOCKING',F.LOCKING) 
EXECUTE 'COMO ON LOCKING-':TIMEDATE()
SEL.CMD = 'SELECT F.COMPANY'
CALL EB.READLIST(SEL.CMD,SEL.LIST,'',NO.OF.REC,RET.CODE)
LOOP
REMOVE Y.COMP.ID FROM SEL.LIST SETTING POS
WHILE Y.COMP.ID:POS
CRT "391: TIME BEFORE READU :":Y.COMP.ID:" :":OCONV(TIME(), "MTS")
READU LOCKING.REC FROM F.LOCKING,'COB.1' ELSE LOCKING.REC = ''
CRT "391: TIME AFTER READU :":Y.COMP.ID:" :":OCONV(TIME(), "MTS")
LOCKING.REC = TODAY
LOCKING.REC<2> = OCONV(TIME(),"MTS")
WRITE LOCKING.REC TO F.LOCKING, 'COB.1'
REPEAT
*TRANSEND THEN CRT ''
END 
