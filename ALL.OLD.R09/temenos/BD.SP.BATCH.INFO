    SUBROUTINE BD.SP.BATCH.INFO

!    PROGRAM BD.SP.BATCH.INFO
    $INSERT GLOBUS.BP I_COMMON
    $INSERT GLOBUS.BP I_EQUATE
    $INSERT SP.BP I_F.BD.H.SP.STOCK.ISSUE
    $INSERT SP.BP I_F.BD.H.SP.BATCH

!DEBUG
    FN.SP.ISSUE='F.BD.H.SP.STOCK.ISSUE'
    F.SP.ISSUE=''
    CALL OPF(FN.SP.ISSUE,F.SP.ISSUE)

    Y.START=R.NEW(SP.BCH.SCRIPT.START)
    Y.END=R.NEW(SP.BCH.SCRIPT.END)
    Y.TYPE=R.NEW(SP.BCH.TYPE.OF.SP)
    Y.PREFIX=R.NEW(SP.BCH.PREFIX)
    Y.SP.TEM.ID=Y.TYPE:".":Y.PREFIX:"..."

    SEL.CMD = 'SELECT ' :FN.SP.ISSUE: ' WITH @ID LIKE ':Y.SP.TEM.ID
    CALL EB.READLIST(SEL.CMD,SEL.LIST,"",NO.OF.RECORD,RET.CODE)

    FOR J=Y.START TO Y.END
        Y.SCRIPT=J
        Y.SP.ID=Y.TYPE:".":Y.PREFIX:".":Y.SCRIPT
        LOCATE Y.SP.ID IN SEL.LIST SETTING Y.POS THEN
            ETEXT= "SCRIPT ALREADY EXIST IN STOCK"
            CALL STORE.END.ERROR
            BREAK
        END
    NEXT J

    RETURN
END
